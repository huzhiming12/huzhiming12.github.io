<h1 id="2-排序问题"><a href="#2-排序问题" class="headerlink" title="2.排序问题"></a>2.排序问题</h1><h4 id="计数排序"><a href="#计数排序" class="headerlink" title="计数排序"></a>计数排序</h4><p>例题：</p>
<p>员工身高：165、168、170、169、182、178、169、170、175、185</p>
<p>将员工的身高从小到大排列。</p>
<p>思路：成年人的升高一般是从150——250，我们可以从150到250分别建立桶，桶的编号分别为150到250，然后依次将员工身高放入桶中，最后将桶中的数据依次倒出即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 计数排序</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">countingSort</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span>[] arr = &#123; <span class="number">165</span>, <span class="number">168</span>, <span class="number">170</span>, <span class="number">169</span>, <span class="number">182</span>, <span class="number">178</span>, <span class="number">169</span>, <span class="number">170</span>, <span class="number">175</span>, <span class="number">185</span> &#125;;</div><div class="line">     	<span class="comment">//计数桶</span></div><div class="line">	<span class="keyword">int</span>[] countArr = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">100</span>];</div><div class="line">     	<span class="comment">//桶的下标从base开始</span></div><div class="line">	<span class="keyword">int</span> base = <span class="number">150</span>;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++)</div><div class="line">	&#123;</div><div class="line">         	<span class="comment">//计数每个数所在桶的下标</span></div><div class="line">		<span class="keyword">int</span> temp = arr[i] - base;</div><div class="line">         	<span class="comment">//对应桶中数量增加1</span></div><div class="line">		countArr[temp] = countArr[temp] + <span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">int</span> index = <span class="number">0</span>;</div><div class="line">     	<span class="comment">//将桶中的数倒出</span></div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; countArr.length; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">int</span> num = countArr[i];</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; num; j++)</div><div class="line">		&#123;</div><div class="line">			arr[index] = i + base;</div><div class="line">			index++;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	System.out.println(Arrays.toString(arr));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="基数排序"><a href="#基数排序" class="headerlink" title="基数排序"></a>基数排序</h4><p>假设排序的数是十进制的数，建立10个桶，桶的编号依次是0——9，</p>
<ul>
<li>将每个数按个位数中值放入对应的桶中，然后依次将0到9号桶中的数倒出；</li>
<li>将每个数按十位数中值依次放入桶中，然后依次将0到9号桶中的数倒出；</li>
<li>将每个数按十位数中值依次放入桶中，然后依次将0到9号桶中的数倒出；</li>
<li>……</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 基数排序</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">basicNumSort</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span>[] arr = &#123; <span class="number">34</span>, <span class="number">16</span>, <span class="number">39</span>, <span class="number">490</span>, <span class="number">356</span>, <span class="number">258</span>, <span class="number">12</span>, <span class="number">8</span>, <span class="number">166</span>, <span class="number">9</span>, <span class="number">48945</span> &#125;;</div><div class="line">	ArrayList&lt;Integer&gt;[] bucket = <span class="keyword">new</span> ArrayList[<span class="number">10</span>];</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</div><div class="line">		bucket[i] = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">	<span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</div><div class="line">     	<span class="comment">//num 表示要计算的位数，1：表示计算个位数的值， 10：表示计算10位数上的值</span></div><div class="line">	<span class="keyword">int</span> num = <span class="number">1</span>;</div><div class="line">	<span class="keyword">while</span> (flag)</div><div class="line">	&#123;</div><div class="line">		flag = <span class="keyword">false</span>;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">int</span> temp = arr[i] / num;</div><div class="line">             	<span class="comment">//只要还有一个数除以num不为0则循环继续</span></div><div class="line">			<span class="keyword">if</span> (temp != <span class="number">0</span>)</div><div class="line">				flag = <span class="keyword">true</span>;</div><div class="line">             	<span class="comment">//求得对应位数上的值</span></div><div class="line">			temp = temp % <span class="number">10</span>;</div><div class="line">             	<span class="comment">//将数据放入对应的桶中</span></div><div class="line">			bucket[temp].add(arr[i]);</div><div class="line">		&#125;</div><div class="line">		num *= <span class="number">10</span>;</div><div class="line">		<span class="keyword">int</span> index = <span class="number">0</span>;</div><div class="line">         	<span class="comment">//从0-9号桶中倒出数值</span></div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; bucket[i].size(); j++)</div><div class="line">			&#123;</div><div class="line">				arr[index] = bucket[i].get(j);</div><div class="line">				index++;</div><div class="line">			&#125;</div><div class="line">			bucket[i].clear();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	System.out.println(Arrays.toString(arr));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="排序相关的经典案例"><a href="#排序相关的经典案例" class="headerlink" title="排序相关的经典案例"></a>排序相关的经典案例</h4><h5 id="1-荷兰国旗问题"><a href="#1-荷兰国旗问题" class="headerlink" title="1. 荷兰国旗问题"></a>1. 荷兰国旗问题</h5><p>数组中 只包含0、1、2，要求将0移动左边，2移动到右边，最终结果是 0、0、0…… 1、1、…… 2、2、……</p>
<p>定义两个指针low和high，low指向0位置，high指向最高位置，从左向右遍历，遇到0则和low位置数据交换，low++；遇到1直接跳过，遇到2则和high位置交换，high—。</p>
<p>{1、0、1、2、1、0、1、2、0}</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">case1</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span>[] arr = &#123; <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span> &#125;;</div><div class="line">	<span class="keyword">int</span> low = <span class="number">0</span>;</div><div class="line">	<span class="keyword">int</span> high = arr.length - <span class="number">1</span>;</div><div class="line">	<span class="keyword">int</span> index = <span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span> (index &lt;= high)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span> (arr[index] == <span class="number">0</span>)</div><div class="line">		&#123;</div><div class="line">			arr[index] = arr[low];</div><div class="line">			arr[low++] = <span class="number">0</span>;</div><div class="line">			index++;</div><div class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[index] == <span class="number">2</span>)</div><div class="line">		&#123;</div><div class="line">			arr[index] = arr[high];</div><div class="line">			arr[high--] = <span class="number">2</span>;</div><div class="line">		&#125; <span class="keyword">else</span></div><div class="line">			index++;</div><div class="line">	&#125;</div><div class="line">	System.out.println(Arrays.toString(arr));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="2-有序矩阵中寻找指定值问题"><a href="#2-有序矩阵中寻找指定值问题" class="headerlink" title="2. 有序矩阵中寻找指定值问题"></a>2. 有序矩阵中寻找指定值问题</h5><p>矩阵中每一行递增，每一列递增，寻找是否存在指定值k。</p>
<p>思路：从左下角出发，当矩阵中的值小于k时，向右移动；当矩阵中的值大于k时，向上移动。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">case2</span><span class="params">(<span class="keyword">int</span> k)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">int</span>[][] arr = &#123; &#123; <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span> &#125;, </div><div class="line">        				&#123; <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span> &#125;, </div><div class="line">        				&#123; <span class="number">7</span>, <span class="number">9</span>, <span class="number">11</span>, <span class="number">13</span> &#125;, </div><div class="line">        				&#123; <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">16</span> &#125; &#125;;</div><div class="line">		<span class="keyword">int</span> x = <span class="number">0</span>;</div><div class="line">		<span class="keyword">int</span> y = arr.length - <span class="number">1</span>;</div><div class="line">		<span class="keyword">while</span> (x &lt; arr[<span class="number">0</span>].length &amp;&amp; y &gt;= <span class="number">0</span>)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">if</span> (arr[x][y] == k)</div><div class="line">				<span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (arr[x][y] &gt; k)</div><div class="line">				y--;</div><div class="line">			<span class="keyword">else</span></div><div class="line">				x++;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<h5 id="3-寻找数组中需要排序的数组长度"><a href="#3-寻找数组中需要排序的数组长度" class="headerlink" title="3. 寻找数组中需要排序的数组长度"></a>3. 寻找数组中需要排序的数组长度</h5><p>例如数组{1，2，4，5，6，3，7，8，9}，需要重新排列的子数组是{4，5，6，3}，求这个子数组的长度。</p>
<p>思路：分两次遍历，</p>
<ul>
<li>第一次从左往右遍历，定义max 表示从0-i以前的最大值，定义pos1记录当max&gt;arr[i]时，i的位置。</li>
<li>第二次从右往左遍历，定义min表示从i-len以后的最小值，定义pos2记录当min&lt;arr[i]时，i的位置。</li>
<li>最后求出pos1和pos2之间的差值。</li>
</ul>
<p>pos1和pos2的意义：</p>
<p>pos1:表示数组中下标从pos1+1到N，这些数是有序的，不用交换位置。</p>
<p>pos2:表示数组中下标从0到pos2-1,这些数是有序的，不用交换位置。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">case3</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span>[] arr = &#123; <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">9</span> &#125;;</div><div class="line"></div><div class="line">	<span class="keyword">int</span> max = arr[<span class="number">0</span>];</div><div class="line">	<span class="keyword">int</span> pos1 = <span class="number">0</span>;</div><div class="line">     	<span class="comment">//从左到右遍历</span></div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; arr.length; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span> (arr[i] &gt;= max)</div><div class="line">			max = arr[i];</div><div class="line">		<span class="keyword">else</span></div><div class="line">			pos1 = i;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">int</span> min = arr[arr.length - <span class="number">1</span>];</div><div class="line">	<span class="keyword">int</span> pos2 = <span class="number">0</span>;</div><div class="line">     	<span class="comment">//从右到左遍历</span></div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = arr.length - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span> (arr[i] &lt;= min)</div><div class="line">			min = arr[i];</div><div class="line">		<span class="keyword">else</span></div><div class="line">			pos2 = i;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">int</span> res = <span class="number">0</span>;</div><div class="line">	<span class="keyword">if</span> (pos1 == pos2)</div><div class="line">		res = <span class="number">0</span>;</div><div class="line">	<span class="keyword">else</span></div><div class="line">		res = pos1 - pos2 + <span class="number">1</span>;</div><div class="line">	System.out.println(res);</div><div class="line">&#125;</div></pre></td></tr></table></figure>