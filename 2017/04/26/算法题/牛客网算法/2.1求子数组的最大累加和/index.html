<h1 id="二、求子数组的最大累加和"><a href="#二、求子数组的最大累加和" class="headerlink" title="二、求子数组的最大累加和"></a>二、求子数组的最大累加和</h1><blockquote>
<p>题目：求一个数组的子数组最大累加和，数组元素可正可负。</p>
<p>如{3、-2、1、-6、3、2、-1、3}</p>
</blockquote>
<p>思路：从前往后遍历，cur记录当前累加和，res记录当前遍历的最大和。当cur&lt;0时，则将cur置为0，每遍历一个数对cur与res进行比较，cur大则更新res。</p>
<ul>
<li><p>初始时  cur=3、res=3 </p>
<p>{3、-2、1、-6、3、2、-1、3}</p>
</li>
<li><p><code>-2</code>，cur=3+(-2)=1,  cur&lt;res  故res=3</p>
</li>
<li><p><code>1</code>，cur=1+1=2 , cur&lt;res 故res=3</p>
</li>
<li><p><code>-6</code>，cur=2+(-6)， cur&lt;res  故res=3，又cur&lt;0  故 cur=0.</p>
</li>
<li><p><code>3</code>，cur=0+3=3   cur&lt;=res 故res=3</p>
</li>
<li><p><code>2</code>，cur=3+2=5    cur&gt;res 故 res=5</p>
</li>
<li><p><code>-1</code>，cur=5+(-1)=4    cur&lt;res 故 res=5</p>
</li>
<li><p><code>3</code>，cur=4+3=7  cur&gt;res 故res=7</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getMaxSubArraySum</span><span class="params">(<span class="keyword">int</span>[] arr)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span> (arr == <span class="keyword">null</span> || arr.length == <span class="number">0</span>)</div><div class="line">		<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="keyword">int</span> len = arr.length;</div><div class="line">	<span class="comment">// 记录从0到位置的最大和</span></div><div class="line">	<span class="keyword">int</span> res = arr[<span class="number">0</span>];</div><div class="line">	<span class="keyword">int</span> cur = arr[<span class="number">0</span>];</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="comment">// 如果cur小于0 则立刻更新成0；</span></div><div class="line">		cur = cur &lt; <span class="number">0</span> ? <span class="number">0</span> : cur;</div><div class="line">		<span class="comment">// 将arr[i]加入前缀和中</span></div><div class="line">		cur += arr[i];</div><div class="line">		res = res &lt; cur ? cur : res;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> res;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h4 id="变形题"><a href="#变形题" class="headerlink" title="变形题"></a>变形题</h4><blockquote>
<p>求一个数组中两个子数组的最大累加和</p>
</blockquote>
<p>{ 3, -2, 1, -6, 3, 2, -4, 3 };  两个子数组的最大累加和  是3+5=8.</p>
<p>思路：从前往后求出从0到i的最大累加和 LMax；求出从后往前n到i的最大累加和RMax。最后以i最为遍历，计算sum=LMax[i]+RMax[i+1]，求出sum的最大值即可。LMax和RMax的求法和上面题目一样</p>
<p>3, -2, 1, -6, 3, 2, -4, 3</p>
<p>LMax={3,3,3,3,3,5,5,5}</p>
<p>RMax={5,5,5,5,5,3,3,3}</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getMaxTwoSubArraySum</span><span class="params">(<span class="keyword">int</span>[] arr)</span></span></div><div class="line">&#123; <span class="comment">// 如果length&lt;2则不能不划分出两个子数组</span></div><div class="line">	<span class="keyword">if</span> (arr == <span class="keyword">null</span> || arr.length &lt; <span class="number">2</span>)</div><div class="line">		<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="keyword">int</span> len = arr.length;</div><div class="line">	<span class="keyword">int</span>[] lMax = <span class="keyword">new</span> <span class="keyword">int</span>[len];</div><div class="line">	<span class="keyword">int</span>[] rMax = <span class="keyword">new</span> <span class="keyword">int</span>[len];</div><div class="line">	lMax[<span class="number">0</span>] = arr[<span class="number">0</span>];</div><div class="line">	<span class="keyword">int</span> cur = arr[<span class="number">0</span>];</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++)</div><div class="line">	&#123; <span class="comment">// 求从0到i子数组最大和</span></div><div class="line">		cur = cur &lt; <span class="number">0</span> ? <span class="number">0</span> : cur;</div><div class="line">		cur += arr[i];</div><div class="line">		lMax[i] = cur &gt; lMax[i - <span class="number">1</span>] ? cur : lMax[i - <span class="number">1</span>];</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	rMax[len - <span class="number">1</span>] = arr[len - <span class="number">1</span>];</div><div class="line">	cur = arr[len - <span class="number">1</span>];</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = len - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--)</div><div class="line">	&#123; <span class="comment">// 从后往前遍历，计算从n 到 i 子数组最大和</span></div><div class="line">		cur = cur &lt; <span class="number">0</span> ? <span class="number">0</span> : cur;</div><div class="line">		cur += arr[i];</div><div class="line">		rMax[i] = cur &gt; rMax[i + <span class="number">1</span>] ? cur : rMax[i + <span class="number">1</span>];</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">int</span> res = arr[<span class="number">0</span>] + arr[<span class="number">1</span>];</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len - <span class="number">1</span>; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">int</span> sum = lMax[i] + rMax[i + <span class="number">1</span>];</div><div class="line">		res = sum &gt; res ? sum : res;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> res;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
